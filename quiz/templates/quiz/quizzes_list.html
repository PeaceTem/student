{% extends 'quiz/base.html' %}
{% load static %}
{% block title %}
    Quiz List
{% endblock title %}
{% block content %}
{% include 'messages.html' %}

{% include 'quiz/nav.html' %}


<form action="" method="get">
    <div class="search-bar">
        <div class="search-bar">
            <input type="text" placeholder='title' name='search-area' value='{{search_input}}'>
            <span>
                <input type="submit" value="search">
            </span>
    </div>
</form>
    
</div>
<div class="card-container">
    {% for quiz in page_obj %}
        <div class='card'>
            <p>
                <div class="title">{{quiz.title|capfirst}}</div>
                <div class="desc">{{quiz.description|truncatewords:10}}</div> 
                <div class="create">{{quiz.user|capfirst}}</div>
                <div class="date">{{quiz.date|date:"Y-M-d"}} {{quiz.date|time:"H:i"}}</div> 
                <div class="inline">
                    <div class="attempt">
                        {% if quiz.attempts < 2 %}
                            {{quiz.attempts}} attempt
                        {% else %}
                            {{quiz.attempts}} attempts
                        {% endif %}
                    </div>
                    <div class="average">
                        {{quiz.average_score}}%
                    </div>
                </div>
                <div class="link-row">
                    <span>
                        <a class="link" href="{% url 'quiz:quiz-detail' quiz.id %}"> View Detail</a>
                    </span>
                 <span>
                        <a class="link" href="{% url 'quiz:take-quiz' quiz.id %}">Take Quiz</a>
                    </span>
                </div>
            </p>
        </div>
    {% endfor %}
</div>

{% include 'core/pagination.html' %}

{% endblock content %}
